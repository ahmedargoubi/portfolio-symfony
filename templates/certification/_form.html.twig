{{ form_start(form) }}
<div class="container mt-5 pt-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="auth-card">
                <!-- Flash Messages -->
                {% for message in app.flashes('error') %}
                    <div class="alert alert-danger alert-dismissible fade show">
                        <i class="fas fa-exclamation-circle me-2"></i>{{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                {% endfor %}

                <div class="row g-4">
                    <!-- Certification Name -->
                    <div class="col-md-6">
                        <label class="form-label text-light">
                            <i class="fas fa-certificate text-danger me-2"></i>Certification Name
                        </label>
                        {{ form_widget(form.name, {
                            'attr': {
                                'class': 'form-control bg-dark text-light border-secondary',
                                'placeholder': 'e.g., RHCSA'
                            }
                        }) }}
                        {{ form_errors(form.name) }}
                    </div>

                    <!-- Issuing Organization -->
                    <div class="col-md-6">
                        <label class="form-label text-light">
                            <i class="fas fa-building text-danger me-2"></i>Issuing Organization
                        </label>
                        {{ form_widget(form.issuer, {
                            'attr': {
                                'class': 'form-control bg-dark text-light border-secondary',
                                'placeholder': 'e.g., Red Hat'
                            }
                        }) }}
                        {{ form_errors(form.issuer) }}
                    </div>

                    <!-- Description -->
                    <div class="col-12">
                        <label class="form-label text-light">
                            <i class="fas fa-align-left text-danger me-2"></i>Description
                        </label>
                        {{ form_widget(form.description, {
                            'attr': {
                                'class': 'form-control bg-dark text-light border-secondary',
                                'placeholder': 'Brief description...',
                                'rows': '4'
                            }
                        }) }}
                        {{ form_errors(form.description) }}
                    </div>

                    <!-- Certification Badge/Logo -->
                    <div class="col-12">
                        <label class="form-label text-light">
                            <i class="fas fa-image text-danger me-2"></i>Certification Badge/Logo
                        </label>
                        {{ form_widget(form.imageFile, {
                            'attr': {
                                'class': 'form-control bg-dark text-light border-secondary'
                            }
                        }) }}
                        {{ form_errors(form.imageFile) }}
                        <small class="text-muted">Upload certification badge or logo (JPG, PNG)</small>
                    </div>

                    <!-- Credential ID -->
                    <div class="col-md-6">
                        <label class="form-label text-light">
                            <i class="fas fa-id-card text-danger me-2"></i>Credential ID
                        </label>
                        {{ form_widget(form.credentialId, {
                            'attr': {
                                'class': 'form-control bg-dark text-light border-secondary',
                                'placeholder': 'Certificate number'
                            }
                        }) }}
                        {{ form_errors(form.credentialId) }}
                    </div>

                    <!-- Credential URL -->
                    <div class="col-md-6">
                        <label class="form-label text-light">
                            <i class="fas fa-link text-danger me-2"></i>Credential URL
                        </label>
                        {{ form_widget(form.credentialUrl, {
                            'attr': {
                                'class': 'form-control bg-dark text-light border-secondary',
                                'placeholder': 'https://...'
                            }
                        }) }}
                        {{ form_errors(form.credentialUrl) }}
                    </div>

                    <!-- Issue Date -->
                    <div class="col-md-6">
                        <label class="form-label text-light">
                            <i class="fas fa-calendar text-danger me-2"></i>Issue Date
                        </label>
                        {{ form_widget(form.issueDate, {
                            'attr': {
                                'class': 'form-control bg-dark text-light border-secondary'
                            }
                        }) }}
                        {{ form_errors(form.issueDate) }}
                    </div>

                    <!-- Expiry Date -->
                    <div class="col-md-6">
                        <label class="form-label text-light">
                            <i class="fas fa-calendar-times text-danger me-2"></i>Expiry Date
                        </label>
                        {{ form_widget(form.expiryDate, {
                            'attr': {
                                'class': 'form-control bg-dark text-light border-secondary'
                            }
                        }) }}
                        {{ form_errors(form.expiryDate) }}
                        <small class="text-muted">Leave empty if no expiration</small>
                    </div>

                    <!-- Display Order -->
                    <div class="col-md-6">
                        <label class="form-label text-light">
                            <i class="fas fa-sort-numeric-down text-danger me-2"></i>Display Order
                        </label>
                        {{ form_widget(form.displayOrder, {
                            'attr': {
                                'class': 'form-control bg-dark text-light border-secondary',
                                'placeholder': '0'
                            }
                        }) }}
                        {{ form_errors(form.displayOrder) }}
                        <small class="text-muted">Lower numbers appear first</small>
                    </div>

                    <!-- Active (Visible) -->
                    <div class="col-md-6">
                        <label class="form-label text-light d-block">
                            <i class="fas fa-eye text-danger me-2"></i>Status
                        </label>
                        <div class="form-check form-switch mt-2">
                            {{ form_widget(form.isActive, {
                                'attr': {
                                    'class': 'form-check-input',
                                    'role': 'switch'
                                }
                            }) }}
                            <label class="form-check-label text-light">
                                Active (Visible)
                            </label>
                        </div>
                        {{ form_errors(form.isActive) }}
                    </div>

                    <!-- Action Buttons -->
                    <div class="col-12">
                        <div class="d-flex gap-3">
                            <button type="submit" class="btn-auth flex-fill">
                                <i class="fas fa-save"></i>
                                <span>{{ button_label|default('Save Certification') }}</span>
                            </button>
                            <a href="{{ path('app_certification_index') }}" class="btn btn-secondary flex-fill" style="padding: 15px; border-radius: 50px; display: flex; align-items: center; justify-content: center; gap: 10px;">
                                <i class="fas fa-times"></i> Cancel
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{{ form_end(form) }}

<style>
.auth-card {
    background: rgba(26, 26, 46, 0.95);
    backdrop-filter: blur(20px);
    border-radius: 20px;
    padding: 3rem 2.5rem;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(207, 9, 6, 0.2);
}

.auth-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #cf0906, #ff2420);
}

.form-label {
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.form-control:focus {
    background-color: #16213e !important;
    border-color: #cf0906 !important;
    color: #ffffff !important;
    box-shadow: 0 0 0 0.25rem rgba(207, 9, 6, 0.25);
}

.form-check-input:checked {
    background-color: #cf0906;
    border-color: #cf0906;
}

.btn-auth {
    width: 100%;
    padding: 15px;
    background: linear-gradient(135deg, #cf0906 0%, #a00704 100%);
    border: none;
    border-radius: 50px;
    color: #ffffff;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    transition: all 0.3s;
    box-shadow: 0 10px 30px rgba(207, 9, 6, 0.3);
}

.btn-auth:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 40px rgba(207, 9, 6, 0.5);
}

.invalid-feedback {
    color: #cf0906;
    font-size: 0.85rem;
    margin-top: 0.25rem;
}
</style>
