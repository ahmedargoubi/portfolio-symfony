{{ form_start(form, {'attr': {'enctype': 'multipart/form-data'}}) }}

<div class="row">
    <div class="col-md-8">
        <div class="mb-3">
            {{ form_label(form.title) }}
            {{ form_widget(form.title) }}
            {{ form_errors(form.title) }}
        </div>

        <div class="mb-3">
            {{ form_label(form.description) }}
            {{ form_widget(form.description) }}
            {{ form_errors(form.description) }}
        </div>

        <div class="mb-3">
            {{ form_label(form.technologies) }}
            {{ form_widget(form.technologies) }}
            {{ form_errors(form.technologies) }}
            <small class="form-text text-muted">SÃ©parez les technologies par des virgules</small>
        </div>

        <div class="mb-3">
            {{ form_label(form.url) }}
            {{ form_widget(form.url) }}
            {{ form_errors(form.url) }}
        </div>
    </div>

    <div class="col-md-4">
        <div class="mb-3">
            {{ form_label(form.imageFile) }}
            {{ form_widget(form.imageFile) }}
            {{ form_errors(form.imageFile) }}
            
            {% if form.vars.data.image %}
                <div class="mt-2">
                    <img src="{{ asset('uploads/projects/' ~ form.vars.data.image) }}" 
                         alt="Image actuelle" 
                         class="img-fluid rounded"
                         style="max-height: 200px;">
                    <p class="text-muted mt-1">Image actuelle</p>
                </div>
            {% endif %}
        </div>

        <div class="mb-3 form-check">
            {{ form_widget(form.isPublished) }}
            {{ form_label(form.isPublished) }}
            {{ form_errors(form.isPublished) }}
        </div>
    </div>
</div>

<div class="mt-3">
    <button class="btn btn-success">
        <i class="bi bi-check-circle"></i> {{ button_label|default('Enregistrer') }}
    </button>
    <a href="{{ path('app_project_index') }}" class="btn btn-secondary">
        <i class="bi bi-x-circle"></i> Annuler
    </a>
</div>

{{ form_end(form) }}